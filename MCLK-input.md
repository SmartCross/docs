# Enabling I2S Master Clock input for RK3308
The whole audio subsystem, including I2S hardware block inside RK3308 and DACs, requires master clock as the frequency refernce. High quality master clock is critical to audio quality. Traditionally, master clock is generated by the on-chip PLL, and output on the MCLK pin of RK3308. However, the on-chip PLL doesn't produce high quality master clock.

In order to improve clock quality, dedicated oscillator shall be used. We have to make the I2S block inside RK3308 to 'accept' that clock, rather than genrerating its own.

The [RK3308 TRM](https://dl.radxa.com/rockpis/docs/hw/datasheets/Rockchip%20RK3308TRM%20V1.1%20Part1-20180810.pdf) mentioned in Page 414 that

```
2. The direction of i2s0_8ch_mclk is controlled by CRU register, 
it’s controlled by CRU_CLKGATE_CON13[4] when GRF_SOC_CON2[10] is set to 1’b0, 
it’s controlled by CRU_CLKGATE_CON13[5] when GRF_SOC_CON2[10] is set to 1’b1:
1’b1: input
1’b0: output
```

So if we change these bits, MCLK can be used as input. This should be done in the Linux common clock framework, [clk-rk3308.c](https://github.com/gregkh/linux/blob/master/drivers/clk/rockchip/clk-rk3308.c). However, the clock tree is rather undocumented for the RK3308, so we change these bits directly in u-boot.
